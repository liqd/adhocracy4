{% extends 'meinberlin_projects/project_detail.html' %}
{% load i18n rules %}

{% block project_action %}
    {% has_perm 'meinberlin_ideas.propose_idea' request.user view.module as propose_allowed %}
    {% if propose_allowed %}
        <a href="{% url 'ideas:idea-create' slug=view.module.slug %}" class="button button--huge">
            {% trans 'Submit idea' %}
        </a>
    {% endif %}
{% endblock %}

{% block phase_content %}
    <div class="list list--highlight">
        <div class="l-wrapper">
            <div class="l-center-8">
                <div class="filter-bar__overlap-wrapper">
                    {% include "meinberlin_contrib/includes/filter_and_sort.html" with filter=view.filter %}
                </div>

                <div class="list__container">
                    {% for idea in idea_list %}
                        {% include "meinberlin_ideas/includes/idea_list_item.html" with idea=idea %}
                    {% endfor %}
                </div>

                {% if idea_list.count == 0 %}
                    {% trans "Nothing to show" %}
                {% endif %}
                {% include "meinberlin_contrib/includes/pagination.html" %}
            </div>
        </div>
    </div>
{% endblock %}
